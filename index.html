<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Village Run Ultimate</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src='//libtl.com/sdk.js' data-zone='10416947' data-sdk='show_10416947'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="home-screen" class="screen">
        <h1 style="color:#FFD700;">VILLAGE RUN</h1>
        <p>Instant Response Edition</p>
        <button class="btn-play" onclick="firstStart()">PLAY NOW</button>
        <button class="btn-ad" onclick="openModal('howto-modal')" style="background:#fff; color:#333; border-bottom:5px solid #ccc;">HOW TO PLAY</button>
        <div class="footer">
            By playing, you accept <a onclick="openModal('tos-modal')">Terms</a> & <a onclick="openModal('privacy-modal')">Privacy</a>
        </div>
    </div>

    <div id="hud" class="hidden">SCORE: <span id="score">0</span></div>

    <div id="game-over-screen" class="screen hidden">
        <h1 style="color:#FF4500;">CRASHED!</h1>
        <p>Score: <span id="final-score">0</span></p>
        
        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
            <p style="font-size: 14px; margin: 0 0 10px 0;">Keep speed & score?</p>
            <button id="btn-watch-ad" class="btn-ad" onclick="watchAd()">WATCH AD (0/3)</button>
            <button id="btn-resume-game" class="btn-resume" onclick="resumeGame()">RESUME RUN</button>
        </div>

        <button class="btn-restart" onclick="restartGame()">RESTART</button>
    </div>

    <div id="howto-modal" class="modal">
        <h2>Controls</h2>
        <ul>
            <li><b>Swipe Left/Right:</b> Change Lane (Instant)</li>
            <li><b>Swipe Up:</b> Jump</li>
            <li><b>Tap & Hold:</b> Duck / Slide</li>
        </ul>
        <button class="close-btn" onclick="closeModal('howto-modal')">CLOSE</button>
    </div>
    
    <div id="tos-modal" class="modal"><h2>Terms</h2><p>Play fair.</p><button class="close-btn" onclick="closeModal('tos-modal')">CLOSE</button></div>
    <div id="privacy-modal" class="modal"><h2>Privacy</h2><p>Ads by Monetag.</p><button class="close-btn" onclick="closeModal('privacy-modal')">CLOSE</button></div>

    <script src="script.js"></script>
</body>
</html>
